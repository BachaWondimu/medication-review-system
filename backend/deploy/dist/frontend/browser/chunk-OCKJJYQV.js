import{a as x,b as j}from"./chunk-VYKHLPEH.js";import{a as T,e as q}from"./chunk-XEENCP3G.js";import{a as B}from"./chunk-GXOHLRUE.js";import{a as M,h as N,o as y,p as b,r as I,s as R,u as E,v as D,w as G,x as V,y as $}from"./chunk-G6ZGHL4Y.js";import{Db as F,Mb as p,Qb as C,Va as S,d as n,e as l,ea as m,f as u,ia as v,ja as _,nb as g,vb as s,wb as i,xb as w,ya as h}from"./chunk-GRUJPSUA.js";var Y=(()=>{var r,o,e;let t=class t{constructor(){l(this,r,void 0);l(this,o,void 0);l(this,e,void 0);this.review_id=h(""),this.medication_id=h(""),u(this,r,m(N)),u(this,o,m(B)),u(this,e,m(M)),this.form=m(V).nonNullable.group({review:["",b.required],rating:["",b.required]}),this.review_id()&&this.medication_id()&&n(this,e).get(`http://localhost:3000/medications/${this.medication_id()}/reviews/${this.review_id()}`).subscribe(a=>{a.success&&this.form.patchValue({review:"review",rating:"rating"})})}updateReview(){n(this,e).put(`http://localhost:3000/medications/${this.medication_id()}/reviews/${this.review_id()}`,this.form.value).subscribe(a=>{a.success&&(n(this,o).success("Review updated successfully"),n(this,r).navigate(["medications","details",this.medication_id(),"reviews"]))})}};r=new WeakMap,o=new WeakMap,e=new WeakMap,t.\u0275fac=function(d){return new(d||t)},t.\u0275cmp=_({type:t,selectors:[["app-update"]],inputs:{review_id:[v.SignalBased,"review_id"],medication_id:[v.SignalBased,"medication_id"]},standalone:!0,features:[C],decls:11,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","formControlName","review"],["matInput","","formControlName","rating"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(d,f){d&1&&(s(0,"form",0),F("ngSubmit",function(){return f.updateReview()}),s(1,"mat-form-field")(2,"mat-label"),p(3,"review"),i(),w(4,"input",1),i(),s(5,"mat-form-field")(6,"mat-label"),p(7,"Rating"),i(),w(8,"input",2),i(),s(9,"button",3),p(10," Submit "),i()()),d&2&&(g("formGroup",f.form),S(9),g("disabled",f.form.invalid))},dependencies:[$,E,y,I,R,D,G,q,x,j,T]});let c=t;return c})();export{Y as UpdateComponent};
