import{a as w}from"./chunk-URTPZ67E.js";import{a as j}from"./chunk-P5HVQK73.js";import{a as A}from"./chunk-37K4UUCH.js";import{a as U}from"./chunk-VYKHLPEH.js";import{a as T,e as L}from"./chunk-XEENCP3G.js";import{a as R}from"./chunk-GXOHLRUE.js";import{a as N,h as E,o as F,p as s,r as x,s as I,u as B,v as D,w as G,x as q,y as V}from"./chunk-G6ZGHL4Y.js";import{Db as M,Mb as o,Qb as y,Va as S,d as p,e as f,ea as n,ec as C,f as b,ia as _,ja as g,nb as h,vb as e,wb as t,xb as l,ya as v}from"./chunk-GRUJPSUA.js";var et=(()=>{var r,m;let i=class i{constructor(){f(this,r,void 0);f(this,m,void 0);this.medication_id=v(""),b(this,r,n(N)),b(this,m,n(E)),this.med_service=n(w),this.toastr=n(R),this.form=n(q).nonNullable.group({name:["",s.required],generic_name:["",s.required],medication_class:["",s.required],availability:["",s.required]}),C(()=>{this.medication_id()&&this.med_service.getMedicationById(this.medication_id()).subscribe(a=>{a.success&&this.form.patchValue(a.data)})})}updateMedication(){p(this,r).put(A.BACKEND_URL+`/medications/${this.medication_id()}`,this.form.value).subscribe(a=>{a.data?(this.toastr.success("Medication updated successfully"),p(this,m).navigate(["/medications"])):this.toastr.error("Error updating medication")})}};r=new WeakMap,m=new WeakMap,i.\u0275fac=function(d){return new(d||i)},i.\u0275cmp=g({type:i,selectors:[["app-update"]],inputs:{medication_id:[_.SignalBased,"medication_id"]},standalone:!0,features:[y],decls:19,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","formControlName","name"],["matInput","","formControlName","generic_name"],["matInput","","formControlName","medication_class"],["matInput","","formControlName","availability"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(d,c){d&1&&(e(0,"form",0),M("ngSubmit",function(){return c.updateMedication()}),e(1,"mat-form-field")(2,"mat-label"),o(3,"Name"),t(),l(4,"input",1),t(),e(5,"mat-form-field")(6,"mat-label"),o(7,"Generic_name"),t(),l(8,"input",2),t(),e(9,"mat-form-field")(10,"mat-label"),o(11,"Medication_class"),t(),l(12,"input",3),t(),e(13,"mat-form-field")(14,"mat-label"),o(15,"Availability"),t(),l(16,"input",4),t(),e(17,"button",5),o(18," Submit "),t()()),d&2&&(h("formGroup",c.form),S(17),h("disabled",c.form.invalid))},dependencies:[V,B,F,x,I,D,G,L,U,T,j],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"]});let u=i;return u})();export{et as UpdateComponent};
