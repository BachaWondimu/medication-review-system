import{a as O,b as P}from"./chunk-SVB5GPOP.js";import{a as G}from"./chunk-HXMLE2GD.js";import{a as R}from"./chunk-P5HVQK73.js";import{a as A,b as B}from"./chunk-VYKHLPEH.js";import{a as T,e as V,f as q}from"./chunk-XEENCP3G.js";import{a as j}from"./chunk-GXOHLRUE.js";import{h as w,o as F,p as f,r as _,s as C,u as N,v as I,w as x,x as E,y as D}from"./chunk-G6ZGHL4Y.js";import{Db as v,Mb as p,Qb as y,Va as M,d as i,e as u,ea as s,f as d,ja as b,nb as S,vb as l,wb as m,xb as h}from"./chunk-GRUJPSUA.js";var rt=(()=>{var e,r,n;let o=class o{constructor(){u(this,e,void 0);u(this,r,void 0);u(this,n,void 0);this.form=s(E).group({email:["",[f.required,f.email]],password:["",f.required]}),d(this,e,s(G)),d(this,r,s(j)),d(this,n,s(w))}sign_in(){i(this,e).signIn(this.form.value).subscribe({next:a=>{if(a.success){let t=P(a.data);i(this,e).$state.set({_id:t._id,fullname:t.fullname,email:t.email,password:"",jwt:a.data}),localStorage.setItem("auth_state",JSON.stringify(i(this,e).$state())),i(this,r).success("User signed in successfully"),i(this,n).navigate(["/medications"])}},error:a=>{i(this,r).error("wrong email or password")}})}};e=new WeakMap,r=new WeakMap,n=new WeakMap,o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=b({type:o,selectors:[["app-sign-in"]],standalone:!0,features:[y],decls:11,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(t,g){t&1&&(l(0,"form",0),v("ngSubmit",function(){return g.sign_in()}),l(1,"mat-form-field")(2,"mat-label"),p(3,"Email"),m(),h(4,"input",1),m(),l(5,"mat-form-field")(6,"mat-label"),p(7,"Password"),m(),h(8,"input",2),m(),l(9,"button",3),p(10," Submit "),m()()),t&2&&(S("formGroup",g.form),M(9),S("disabled",g.form.invalid))},dependencies:[D,N,F,_,C,I,x,q,V,T,B,A,O,R],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"]});let c=o;return c})();export{rt as a};
