import{a as $}from"./chunk-LT7GWOHQ.js";import{a as j,b as H}from"./chunk-VYKHLPEH.js";import{a as V,e as q,f as A}from"./chunk-XEENCP3G.js";import{a as T}from"./chunk-GXOHLRUE.js";import{a as y,h as E,i as N,o as R,p as w,r as D,s as I,u as k,v as B,w as G,x as L,y as x}from"./chunk-G6ZGHL4Y.js";import{Db as M,Mb as a,Qb as _,Sb as C,Va as g,d as p,e as c,ea as d,f,ia as b,ja as F,nb as v,vb as n,wb as e,xb as h,ya as S}from"./chunk-GRUJPSUA.js";var z=m=>["medications","details",m,"reviews"],oe=(()=>{var s,i,l;let r=class r{constructor(){c(this,s,void 0);c(this,i,void 0);c(this,l,void 0);this.medication_id=S(""),f(this,s,d(y)),f(this,i,d(T)),f(this,l,d(E)),this.form=d(L).nonNullable.group({review:["",w.required],rating:["",w.required]})}goBack(){throw new Error("Method not implemented.")}get review(){return this.form.get("review")}get rating(){return this.form.get("rating")}addReview(){let o=new FormData;o.append("review",this.review?.value),o.append("rating",this.rating?.value),console.log(o.get("review")),p(this,s).post(`http://localhost:3000/medications/${this.medication_id()}/reviews`,o).subscribe(t=>{console.log(t.data),p(this,i).success("Review added successfully"),this.form.reset()},t=>{p(this,i).error("Failed to add review")})}};s=new WeakMap,i=new WeakMap,l=new WeakMap,r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=F({type:r,selectors:[["app-add"]],inputs:{medication_id:[b.SignalBased,"medication_id"]},standalone:!0,features:[_],decls:15,vars:5,consts:[["mat-flat-button","",3,"routerLink"],[3,"ngSubmit","formGroup"],["matInput","","formControlName","review"],["matInput","","formControlName","rating"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(t,u){t&1&&(n(0,"span",0)(1,"mat-icon"),a(2,"arrow_left"),e(),a(3,` Back
`),e(),n(4,"form",1),M("ngSubmit",function(){return u.addReview()}),n(5,"mat-form-field")(6,"mat-label"),a(7,"review"),e(),h(8,"input",2),e(),n(9,"mat-form-field")(10,"mat-label"),a(11,"Rating"),e(),h(12,"input",3),e(),n(13,"button",4),a(14," Submit "),e()()),t&2&&(v("routerLink",C(3,z,u.medication_id())),g(4),v("formGroup",u.form),g(9),v("disabled",u.form.invalid))},dependencies:[A,q,V,H,j,x,k,R,D,I,B,G,N,$]});let m=r;return m})();export{oe as AddReviewComponent};
